WA.room.area.onEnter("roof_lowerLeft").subscribe(()=>{WA.room.hideLayer("roofs/lowerLeft")});WA.room.area.onLeave("roof_lowerLeft").subscribe(()=>{WA.room.showLayer("roofs/lowerLeft")});WA.room.area.onEnter("roof_lowerRight").subscribe(()=>{WA.room.hideLayer("roofs/lowerRight")});WA.room.area.onLeave("roof_lowerRight").subscribe(()=>{WA.room.showLayer("roofs/lowerRight")});WA.room.area.onEnter("roof_upperLeft").subscribe(()=>{WA.room.hideLayer("roofs/upperLeft")});WA.room.area.onLeave("roof_upperLeft").subscribe(()=>{WA.room.showLayer("roofs/upperLeft")});WA.room.area.onEnter("roof_upperRight").subscribe(()=>{WA.room.hideLayer("roofs/upperRight")});WA.room.area.onLeave("roof_upperRight").subscribe(()=>{WA.room.showLayer("roofs/upperRight")});const a="https://apps.taskmagic.com/api/v1/webhooks/udowzdkJjQ2MJUNTpL1A0";WA.onInit().then(async()=>{if(!WA.player.tags.includes("bot")){async function o(t=a,s=!1){try{await WA.onInit();const e=WA.player.id,r=WA.player.name;if(console.log(r),!e||!r)throw new Error("Invalid player data");const n=await((l,c,p=5e3)=>Promise.race([fetch(l,c),new Promise((m,f)=>setTimeout(()=>f(new Error("Request timed out")),p))]))(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,name:r,firstPing:s})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();console.log("Success:",i)}catch(e){console.error("Error:",e)}}o(a,!0),setInterval(()=>{o(a,!1)},6e4),o(a,!0),setInterval(()=>{o(a,!1)},6e4),WA.onInit().then(()=>{WA.player.tags.includes("admin")?WA.player.setOutlineColor(128,0,128):WA.player.tags.includes("teacher")?WA.player.setOutlineColor(0,0,255):WA.player.tags.includes("masterclass")&&WA.player.setOutlineColor(255,255,0)})}});WA.onInit().then(async()=>{const o=WA.player.name,t=await WA.player.getWokaPicture();var s=`https://chat.cocreation.world/cooliobot?playername=${encodeURIComponent(o)}&avatar=${encodeURIComponent(t)}`;WA.player.tags.includes("admin")&&(s=`https://chat.cocreation.world/cooliobot?playername=${encodeURIComponent(o)}&avatar=${encodeURIComponent(t)}&tag=admin`);var e=void 0,r=!1;WA.room.area.onEnter("website").subscribe(async()=>{e=await WA.nav.openCoWebSite(s),r&&(e.close(),e=void 0,r=!1)}),WA.room.area.onLeave("website").subscribe(()=>{e!==void 0?(e.close(),e=void 0):r=!0})});
//# sourceMappingURL=script-318d69aa.js.map
