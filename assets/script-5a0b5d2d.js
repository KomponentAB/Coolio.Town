WA.room.area.onEnter("roof_lowerLeft").subscribe(()=>{WA.room.hideLayer("roofs/lowerLeft")});WA.room.area.onLeave("roof_lowerLeft").subscribe(()=>{WA.room.showLayer("roofs/lowerLeft")});WA.room.area.onEnter("roof_lowerRight").subscribe(()=>{WA.room.hideLayer("roofs/lowerRight")});WA.room.area.onLeave("roof_lowerRight").subscribe(()=>{WA.room.showLayer("roofs/lowerRight")});WA.room.area.onEnter("roof_upperLeft").subscribe(()=>{WA.room.hideLayer("roofs/upperLeft")});WA.room.area.onLeave("roof_upperLeft").subscribe(()=>{WA.room.showLayer("roofs/upperLeft")});WA.room.area.onEnter("roof_upperRight").subscribe(()=>{WA.room.hideLayer("roofs/upperRight")});WA.room.area.onLeave("roof_upperRight").subscribe(()=>{WA.room.showLayer("roofs/upperRight")});const r="https://apps.taskmagic.com/api/v1/webhooks/Wn8CdqSXOlSSMewy6xL60";async function n(a=r,t=!1){try{await WA.onInit();const o=WA.player.id,e=WA.player.name;if(console.log(e),!o||!e)throw new Error("Invalid player data");const i=await((c,p,f=5e3)=>Promise.race([fetch(c,p),new Promise((d,u)=>setTimeout(()=>u(new Error("Request timed out")),f))]))(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:o,name:e,firstPing:t})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const l=await i.json();console.log("Success:",l)}catch(o){console.error("Error:",o)}}n(r,!0);setInterval(()=>{n(r,!1)},6e4);n(r,!0);setInterval(()=>{n(r,!1)},6e4);WA.onInit().then(()=>{WA.player.tags.includes("admin")?WA.player.setOutlineColor(128,0,128):WA.player.tags.includes("teacher")?WA.player.setOutlineColor(0,0,255):WA.player.tags.includes("masterclass")&&WA.player.setOutlineColor(255,255,0)});WA.onInit().then(async()=>{const a=WA.player.name,t=await WA.player.getWokaPicture();var o=`https://chat.cocreation.world/cooliobot?playername=${encodeURIComponent(a)}&avatar=${encodeURIComponent(t)}`;WA.player.tags.includes("admin")&&(o=`https://chat.cocreation.world/cooliobot?playername=${encodeURIComponent(a)}&avatar=${encodeURIComponent(t)}&tag=admin`);var e=void 0,s=!1;WA.room.area.onEnter("website").subscribe(async()=>{e=await WA.nav.openCoWebSite(o),s&&(e.close(),e=void 0,s=!1)}),WA.room.area.onLeave("website").subscribe(()=>{e!==void 0?(e.close(),e=void 0):s=!0})});
//# sourceMappingURL=script-5a0b5d2d.js.map
