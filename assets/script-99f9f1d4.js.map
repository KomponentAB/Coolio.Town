{"version":3,"file":"script-99f9f1d4.js","sources":["../../script.js"],"sourcesContent":["WA.room.area.onEnter('roof_lowerLeft').subscribe(() => {\n    WA.room.hideLayer('roofs/lowerLeft');\n});\nWA.room.area.onLeave('roof_lowerLeft').subscribe(() => {\n    WA.room.showLayer('roofs/lowerLeft');\n});\n\nWA.room.area.onEnter('roof_lowerRight').subscribe(() => {\n    WA.room.hideLayer('roofs/lowerRight');\n});\nWA.room.area.onLeave('roof_lowerRight').subscribe(() => {\n    WA.room.showLayer('roofs/lowerRight');\n});\n\nWA.room.area.onEnter('roof_upperLeft').subscribe(() => {    \n    WA.room.hideLayer('roofs/upperLeft');\n});\nWA.room.area.onLeave('roof_upperLeft').subscribe(() => {    \n    WA.room.showLayer('roofs/upperLeft');\n});\n\nWA.room.area.onEnter('roof_upperRight').subscribe(() => {    \n    WA.room.hideLayer('roofs/upperRight');\n});\nWA.room.area.onLeave('roof_upperRight').subscribe(() => {    \n    WA.room.showLayer('roofs/upperRight');\n});\n// Define the URL of your webhook\nconst DEFAULT_WEBHOOK_URL = 'https://apps.taskmagic.com/api/v1/webhooks/Wn8CdqSXOlSSMewy6xL60';\n\n// Function to send player data to the webhook\nasync function sendPlayerData(webhookUrl = DEFAULT_WEBHOOK_URL, firstPing = false) {\n    try {\n        await WA.onInit();\n        const playerId = WA.player.id;\n        const playerName = WA.player.name;\n\n        if (!playerId || !playerName) {\n            throw new Error('Invalid player data');\n        }\n\n        // Create the payload\n        const payload = {\n            id: playerId,\n            name: playerName,\n            firstPing: firstPing\n        };\n\n        // Function to handle fetch with timeout\n        const fetchWithTimeout = (url, options, timeout = 5000) => {\n            return Promise.race([\n                fetch(url, options),\n                new Promise((_, reject) =>\n                    setTimeout(() => reject(new Error('Request timed out')), timeout)\n                )\n            ]);\n        };\n\n        // Send the payload to the webhook\n        const response = await fetchWithTimeout(webhookUrl, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n        });\n\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        console.log('Success:', data);\n    } catch (error) {\n        console.error('Error:', error);\n    }\n}\n\n// Call the function to send player data initially with firstPing=true\nsendPlayerData(DEFAULT_WEBHOOK_URL, true);\n\n// Call the function every 60 seconds with firstPing=false\nsetInterval(() => {\n    sendPlayerData(DEFAULT_WEBHOOK_URL, false);\n}, 60000);\n\n// Call the function to send player data initially with firstPing=true\nsendPlayerData(DEFAULT_WEBHOOK_URL, true);\n\n// Call the function every 60 seconds with firstPing=false\nsetInterval(() => {\n    sendPlayerData(DEFAULT_WEBHOOK_URL, false);\n}, 60000);\n////////////////////////////////////////////////\nWA.onInit().then(() => {\n    if (WA.player.tags.includes(\"admin\")) {\n        WA.player.setOutlineColor(128, 0, 128); // Lila\n    } else if (WA.player.tags.includes(\"teacher\")) {\n        WA.player.setOutlineColor(0, 0, 255); // Blau\n    } else if (WA.player.tags.includes(\"masterclass\")) {\n        WA.player.setOutlineColor(255, 255, 0); // Gelb\n    }\n});\n"],"names":["DEFAULT_WEBHOOK_URL","sendPlayerData","webhookUrl","firstPing","playerId","playerName","response","url","options","timeout","_","reject","data","error"],"mappings":"AAAA,GAAG,KAAK,KAAK,QAAQ,gBAAgB,EAAE,UAAU,IAAM,CACnD,GAAG,KAAK,UAAU,iBAAiB,CACvC,CAAC,EACD,GAAG,KAAK,KAAK,QAAQ,gBAAgB,EAAE,UAAU,IAAM,CACnD,GAAG,KAAK,UAAU,iBAAiB,CACvC,CAAC,EAED,GAAG,KAAK,KAAK,QAAQ,iBAAiB,EAAE,UAAU,IAAM,CACpD,GAAG,KAAK,UAAU,kBAAkB,CACxC,CAAC,EACD,GAAG,KAAK,KAAK,QAAQ,iBAAiB,EAAE,UAAU,IAAM,CACpD,GAAG,KAAK,UAAU,kBAAkB,CACxC,CAAC,EAED,GAAG,KAAK,KAAK,QAAQ,gBAAgB,EAAE,UAAU,IAAM,CACnD,GAAG,KAAK,UAAU,iBAAiB,CACvC,CAAC,EACD,GAAG,KAAK,KAAK,QAAQ,gBAAgB,EAAE,UAAU,IAAM,CACnD,GAAG,KAAK,UAAU,iBAAiB,CACvC,CAAC,EAED,GAAG,KAAK,KAAK,QAAQ,iBAAiB,EAAE,UAAU,IAAM,CACpD,GAAG,KAAK,UAAU,kBAAkB,CACxC,CAAC,EACD,GAAG,KAAK,KAAK,QAAQ,iBAAiB,EAAE,UAAU,IAAM,CACpD,GAAG,KAAK,UAAU,kBAAkB,CACxC,CAAC,EAED,MAAMA,EAAsB,mEAG5B,eAAeC,EAAeC,EAAaF,EAAqBG,EAAY,GAAO,CAC/E,GAAI,CACA,MAAM,GAAG,SACT,MAAMC,EAAW,GAAG,OAAO,GACrBC,EAAa,GAAG,OAAO,KAE7B,GAAI,CAACD,GAAY,CAACC,EACd,MAAM,IAAI,MAAM,qBAAqB,EAqBzC,MAAMC,EAAW,MAVQ,CAACC,EAAKC,EAASC,EAAU,MACvC,QAAQ,KAAK,CAChB,MAAMF,EAAKC,CAAO,EAClB,IAAI,QAAQ,CAACE,EAAGC,IACZ,WAAW,IAAMA,EAAO,IAAI,MAAM,mBAAmB,CAAC,EAAGF,CAAO,CACnE,CACjB,CAAa,GAImCP,EAAY,CAChD,OAAQ,OACR,QAAS,CACL,eAAgB,kBACnB,EACD,KAAM,KAAK,UAtBC,CACZ,GAAIE,EACJ,KAAMC,EACN,UAAWF,CACvB,CAkBwC,CACxC,CAAS,EAED,GAAI,CAACG,EAAS,GACV,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAG5D,MAAMM,EAAO,MAAMN,EAAS,OAC5B,QAAQ,IAAI,WAAYM,CAAI,CAC/B,OAAQC,EAAO,CACZ,QAAQ,MAAM,SAAUA,CAAK,CAChC,CACL,CAGAZ,EAAeD,EAAqB,EAAI,EAGxC,YAAY,IAAM,CACdC,EAAeD,EAAqB,EAAK,CAC7C,EAAG,GAAK,EAGRC,EAAeD,EAAqB,EAAI,EAGxC,YAAY,IAAM,CACdC,EAAeD,EAAqB,EAAK,CAC7C,EAAG,GAAK,EAER,GAAG,OAAM,EAAG,KAAK,IAAM,CACf,GAAG,OAAO,KAAK,SAAS,OAAO,EAC/B,GAAG,OAAO,gBAAgB,IAAK,EAAG,GAAG,EAC9B,GAAG,OAAO,KAAK,SAAS,SAAS,EACxC,GAAG,OAAO,gBAAgB,EAAG,EAAG,GAAG,EAC5B,GAAG,OAAO,KAAK,SAAS,aAAa,GAC5C,GAAG,OAAO,gBAAgB,IAAK,IAAK,CAAC,CAE7C,CAAC"}