function d(){const e=["roof_lowerLeft","roof_lowerRight","roof_upperLeft","roof_upperRight"];e.some(o=>WA.player.location===o)&&n(),e.forEach(o=>{WA.room.area.onEnter(o).subscribe(()=>{n()})}),e.forEach(o=>{WA.room.area.onLeave(o).subscribe(()=>{m()})})}function n(){WA.room.hideLayer("roofs/lowerLeft"),WA.room.hideLayer("roofs/lowerRight"),WA.room.hideLayer("roofs/upperLeft"),WA.room.hideLayer("roofs/upperRight")}function m(){WA.room.showLayer("roofs/lowerLeft"),WA.room.showLayer("roofs/lowerRight"),WA.room.showLayer("roofs/upperLeft"),WA.room.showLayer("roofs/upperRight")}d();const a="https://apps.taskmagic.com/api/v1/webhooks/Wn8CdqSXOlSSMewy6xL60";async function i(e=a,o=!1){try{await WA.onInit();const r=WA.player.id,s=WA.player.name;if(!r||!s)throw new Error("Invalid player data");const t=await((f,l,u=5e3)=>Promise.race([fetch(f,l),new Promise((W,h)=>setTimeout(()=>h(new Error("Request timed out")),u))]))(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r,name:s,firstPing:o})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const c=await t.json();console.log("Success:",c)}catch(r){console.error("Error:",r)}}i(a,!0);setInterval(()=>{i(a,!1)},6e4);WA.player.onEnter().subscribe(function(e){var o=p(e);y(e,o)});function y(e,o){switch(o){case"admins":e.setOutlineColor(128,0,128);break;case"teachers":e.setOutlineColor(0,0,255);break;case"students":e.setOutlineColor(255,255,0);break;default:e.setOutlineColor(0,0,0)}}function p(e){return e.name.includes("admin")?"admins":e.name.includes("teacher")?"teachers":"students"}
//# sourceMappingURL=script-d488209c.js.map
